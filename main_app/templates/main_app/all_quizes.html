{% extends "main_app/base.html" %}
{% load static %}
{% block css %}
        <link rel="stylesheet" href="{% static 'css/all_quizes.css' %}">
{% endblock css %}
{% block title %}üß† –í—Å–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã {% endblock title %}
{% block name %} 
<!-- üß† –í—Å–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã  -->

<div class="container d-flex justify-content-between align-items-center bg-dark-100 text-white py-2 px-3">
  <div>
    üß† –í—Å–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
  </div>
</div>  

{% endblock name %}



{% block content %}
    <div class="col-12 col-md-6 col-lg-4">
  <div class="card bg-dark text-light border-secondary shadow-sm">
    <div class="card-body">
      <!-- –ö—Ä–∞—Å–∏–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å —Ñ–æ–Ω–æ–º –∏ —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è–º–∏ -->
      <div class="px-3 py-2 rounded-pill" style="background-color: #00e5ff; color: #0a0a0a; display: inline-block; font-weight: 600; margin-bottom: 1ex;">
        –ü—Ä–æ–π–¥–µ–Ω–Ω—ã–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
    </div>   

      <!-- –°–ø–∏—Å–æ–∫ –≤–∏–∫—Ç–æ—Ä–∏–Ω -->
      <div class="d-flex flex-column gap-2">
        {% for victorina in user_stata %}
          <div class="p-2 border rounded text-light" style="background-color: #1c1c1c; border-color: #444;">
            <strong>{{ victorina.victorina.topic }}</strong>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
    <!-- –¶–µ–Ω—Ç—Ä —á–∞—Å—Ç—å: —Ñ–æ—Ä–º–∞ -->
    <div class="left-panel">
      <div class="form-block">
        <form action="/gpt_proc" method="get" id="gpt_proc">
          <div class="mb-3">
            <label for="query" class="form-label">–í–≤–µ–¥–∏—Ç–µ —Ç–µ–º—É –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã</label>
            <input type="text" id="search" name="query" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü—Ä–∞–≤–∏—Ç–µ–ª–∏ –ú–æ–Ω—Ç—Å–µ—Ä—Ä–∞—Ç–∞">
          </div>
          <div>
            <button type="submit" class="btn btn-info" id="search-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            <a href="/create_quiz" class="btn btn-warning">–°–æ–∑–¥–∞—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—É</a>
          </div>
        </form>
        
      </div>
    </div>


    <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å: –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤–∏–∫—Ç–æ—Ä–∏–Ω -->
    <div class="right-panel">
  <div class="p-3 rounded-3" style="background-color: #1c1c1c;">

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div class="px-3 py-2 rounded-pill mb-3" style="background-color: #00e5ff; color: #0a0a0a; display: inline-block; font-weight: 600;">
      –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
    </div>

    <!-- –ü–æ–∏—Å–∫ -->
    <form action="" method="get" class="d-flex gap-2 mb-3">
      <input type="text" name="query" id="query" class="form-control form-control-sm" placeholder="–ü–æ–∏—Å–∫ –≤–∏–∫—Ç–æ—Ä–∏–Ω"
             style="background-color: #111; border: 1px solid #333; color: #fff;">
      <input type="submit" value="–ò—Å–∫–∞—Ç—å" class="btn btn-sm" style="background-color: #00e5ff; color: #000;">
    </form>

    <!-- –°–ø–∏—Å–æ–∫ –≤–∏–∫—Ç–æ—Ä–∏–Ω -->
    <div class="d-flex flex-column gap-2">
      {% for victorina in victorins %}
        <a href="/quiz/{{ victorina.id }}" class="text-decoration-none">
          <div class="px-3 py-2 border rounded text-white"
               style="background-color: #121212; border-color: #333;">
            <div style="color: red;">{{ victorina.topic }} <a style="color: #00e5ff;" href="/quiz/edit/{{ victorina.id }}"> <i class="bi bi-pen"></i></a></div>
             <!--–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ–≤—ã–¥ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∏–µ –≤–º–µ—Å—Ç–µ-->
          </div>
        </a>
      {% empty %}
        <p class="text-muted fst-italic">404 ‚Äî –Ω–∏—á–µ –Ω–µ—Ç</p>
      {% endfor %}
    </div>

  </div>
</div>
{% endblock content %}

{% block scripts %}
<script>
  // –û–±—ë—Ä—Ç–∫–∞, —á—Ç–æ–±—ã –∫–æ–¥ —Å—Ä–∞–±–æ—Ç–∞–ª –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById('gpt_proc');
    const input = form.querySelector('#search');

    form.addEventListener('submit', (event) => {
      if (!input.value.trim()) {
        event.preventDefault();  // ‚Üê –∑–¥–µ—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å event
        alert('–ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ–∫—Å—Ç');
      }
    });
  });
</script>
{% endblock scripts %}